

## 计算机体系结构

### 计算机操作系统

1. 编译
   1. 编译和解释语言
   2. 静态类型
   3. 编译过程
   4. 目标代码
   5. 汇编代码
   6. 预处理
   7. 理解错误
2. 进程
   1. 抽象和虚拟化
   2. 隔离
   3. UNIX进程
3. 虚拟内存
   1. 简明信息理论
   2. 内存和存储
   3. 地址空间
   4. 内存段
   5. 静态局部变量
   6. 地址转换
4. 文件和文件系统
   1. 磁盘性能
   2. 磁盘元数据
   3. 块分配
   4. 一切都是一个文件？
5. 更多的位和字节
   1. 表示整数
   2. 位运算符
   3. 表示浮点型数
   4. 合并和内存错误
   5. 表示字符串
6. 内存管理
   1. 内存错误
   2. 内存泄露
   3. 实现
7. 缓存
   1. 程序如何运行
   2. 缓存性能
   3. 局部性
   4. 衡量缓存性能
   5. 缓存性能编程
   6. 内存层次结构
   7. 缓存策略
   8. 分页
8. 多任务
   1. 硬件状态
   2. 上下文转换
   3. 进程的生命周期
   4. 调度
   5. 实时调度
9. 线程
   1. 创建线程
   2. 同上
   3. 加入线程
   4. 同步错误
   5. 互斥
10. 条件变量
    1. 工作队列
    2. 生产者和消费者
    3. 互斥
    4. 条件变量
    5. 条件变量的实现
11. c中的信号量(Semaphores)
    1. POSIX信号量
    2. 生产者和消费者的信号量
    3. 创建自己的信号量



1. #### 编译

   1. ##### 编译和解释语言

   2. ##### 静态类型

      - “静态”指那些在编译时发生的事情，而“动态”指在运行时发生的事情。
      - 在编译语言中，变量的名称只存在于编译时，而不是运行时。编译器为每个变量选择一个位置，并记录这些位置作为所编译程序的一部分。变量的位置被称为“地址”。在运行期间，每个变量的值都储存在它的地址处，但是变量的名称完全不会储存（除非它们由于调试目的被编译器添加）

   3. ##### 编译过程

      - 预处理

      - 解析

        将程序读进内存中，构建语法树

      - 静态检查

        检查类型

      - 代码生成

      - 链接

      - 优化

   4. ##### 目标代码

      机器码

   5. ##### 汇编代码

      汇编代码——机器代码的可读形式

   6. ##### 预处理

   7. ##### 理解错误

      段错误——读写内存的不正确位置——

2. #### 进程

   1. ##### 抽象和虚拟化

      - 抽象

        抽象是复杂事物的简单表示

      - 虚拟化

        在虚拟化的语境中，我们通常把真实发生的事情叫做“物理的”，而把虚拟上发生的事情叫做“逻辑的”或者“抽象的”。

   2. ##### 隔离

      操作系统最重要的目标之一，就是将每个进程和其它进程隔离，使程序员不必考虑每个可能的交互情况。提供这种隔离的软件对象叫做进程（Process）。 

      进程是包含以下数据的对象：

      - 程序文本
      - 数据相关数据
      - 任何等待中的I/O状态
      - 程序的硬件状态

      进程和程序的关系

      - 通常一个进程运行一个程序，但是对于进程来说，加载并运行新的程序也是可能的。 
      - 多于一个进程中运行相同的程序，这非常常见。这种情况下，各个进程**共享程序文本**，但是**拥有不同的数据和硬件状态**。

   3. ##### UNIX进程

3. #### 虚拟内存

   1. ##### 简明信息理论

   2. ##### 内存和存储器

   3. ##### 地址空间

      - 主存中的每个字节都由一个“物理地址”整数所指定，物理地址的集合叫做物理“地址空间”。它的范围通常为0到`N-1`，其中`N`是主存的大小。
      - 虚拟内存

   4. ##### 内存段

   5. ##### 静态局部变量

   6. ##### 地址转换

4. #### 文件和文件系统

   1. ##### 磁盘性能

   2. ##### 磁盘元数据

   3. 块分配

      ##### 块分配

   4. ##### 一切都是一个文件？

5. #### 更多的位和字节

   1. ##### 表示整数

   2. ##### 位运算符

   3. ##### 表示浮点型数

   4. ##### 合并和内存错误

   5. ##### 表示字符串

6. #### 内存管理

   1. ##### 内存错误

   2. ##### 内存泄露

   3. ##### 实现

7. #### 缓存

   1. ##### 程序如何运行

   2. ##### 缓存性能

   3. ##### 局部性

   4. ##### 衡量缓存性能

   5. ##### 缓存性能编程

   6. ##### 内存层次结构

   7. ##### 缓存策略

   8. ##### 分页

8. #### 多任务

   1. ##### 硬件状态

   2. ##### 上下文转换

   3. ##### 进程的生命周期

   4. ##### 调度

   5. ##### 实时调度

9. #### 线程

   1. ##### 创建线程

   2. ##### 同上

   3. ##### 加入线程

   4. ##### 同步错误

   5. ##### 互斥

10. #### 条件变量

    1. ##### 工作队列

    2. ##### 生产者和消费者

    3. ##### 互斥

    4. ##### 条件变量

    5. ##### 条件变量的实现

11. #### c中的信号量(Semaphores)

    1. ##### POSIX信号量

    2. ##### 生产者和消费者的信号量

    3. ##### 创建自己的信号量

 

### 网络工程师们的计算机体系结构





| TCP                                                          | CPU                                                   |
| ------------------------------------------------------------ | ----------------------------------------------------- |
| TCP发送一连串的数据包                                        | CPU处理一系列指令                                     |
| TCP数据包最终被收到                                          | CPU指令最终会过期                                     |
| TCP会根据窗口大小发送一些列的几个数据包，而不会等待第一个数据包被接收后才行动 | CPU同时处理多个指令，而不是等待第一个指令执行完才行动 |
|                                                              | 指令引用没有缓存在内存地址时                          |
|                                                              |                                                       |
|                                                              |                                                       |
|                                                              |                                                       |
|                                                              |                                                       |
|                                                              |                                                       |

### 计算机组成原理

存储程序概念是冯·诺依曼等人在1946年6月首先提出来的，它可以简要地概括为以下 几点: 

1. 计算机(指硬件)应由运算器、存储器、控制器、输入设备和输出设备五大基本部 件组成; 

2. 计算机内部采用二进制来表示指令和数据;

3. 将编好的程序和原始数据事先存入存储器中，然后再启动计算机工作，这就是存储程序的基本含义。

![](/media/files/images/sc_51.png)

- 运算器和控制器合称为中央处理器CPU

- 中央处理器和主存储器（内存储器）一起组成主机部分

- 三级存储系统

  - 高速缓冲存储器

    存取速度比主存更快，但是容量更小

  - 主存储器

  - 辅助存储器

  三级系统可再划分为两个层次：

  - Cache存储系统

    高速缓存和主存

  - 虚拟存储系统

    主存和辅村

- 计算机执行过程实例

  ![](/media/files/images/sc_52.png)


### 内容分发网络（CDN）

内容分发网络（CDN）是一个全球性的代理服务器分布式网络，它从靠近用户的位置提供内容。通常，HTML/CSS/JS，图片和视频等静态内容由 CDN 提供。

### 应用层

#### 微服务

可以被描述为一系列可以独立部署的小型的，模块化服务。每个服务运行在一个独立的线程中，通过明确定义的轻量级机制通讯，共同实现业务目标。



微服务中的关键技术挑战

- 服务间通信
  - http
  - 异步消息
- 分布式数据管理



缓存-遗漏，乱序执行，流水线执行


